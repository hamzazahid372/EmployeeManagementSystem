<%= javascript_pack_tag 'comment', 'data-turbolinks-track': 'reload' %>
<%= javascript_pack_tag 'projects_users', 'data-turbolinks-track': 'reload' %>
<div class="modal" id="projects-users-modal"></div>

<%= form_for @project  do |form| %>
  <div class="container-fluid">
    <h1>
      <%= @project.name %>
    </h1>
    <div class="btn-group" role="group" style="float: right;">
      <% if can? :update, Project %>
        <%= link_to 'Update', edit_project_path(@project.sequence_num),class: ' ml-3 btn btn-dark' %>
      <% end %>
      <% if can? :delete, Project %>
        <%= link_to 'Delete', project_path(@project),
          method: :delete,class: 'ml-3 btn btn-dark',
          data: { confirm: 'Are you sure you want to delete?' } %>
      <% end %>
      <%= link_to 'Add Users', new_project_projects_user_path(@project), class: 'ml-3 btn btn-dark', remote: true %>
    </div>
    
    <table class="table">
      <tbody>
        <tr>
          <th><%= t(:project_title) %></th>
          <td><%= @project.name %></td>
        </tr>
        <tr>
          <th><%= t(:project_description) %></th>
          <td><%= @project.description %></td>
        </tr>
         <tr>
          <tr>
          <th><%= t(:project_status) %></th>
          <td><%= form.label @project.status %></td>
        </tr>
          <th><%= t(:project_start_date) %></th>
          <td><%= Date.parse((@project.start_date).to_s)unless @project.start_date.nil? %></td>
        </tr>
         <tr>
          <th><%= t(:project_end_date) %></th>
          <td><%= Date.parse((@project.end_date).to_s)unless @project.end_date.nil? %></td>
        </tr>
        <tr>
          <th><%= t(:project_expected_start_date) %></th>
          <td><%= Date.parse((@project.expected_start_date).to_s)unless @project.expected_start_date.nil? %></td>
        </tr>
        <tr>
          <th><%= t(:project_expected_end_date) %></th>
          <td><%= Date.parse((@project.expected_end_date).to_s)unless @project.expected_end_date.nil? %></td>
        </tr>
      </tbody>
    </table>
    
<% end %>

<%= render partial: 'shared/tabs', locals: { resource: :project } %>
