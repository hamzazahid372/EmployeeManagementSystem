<% require 'date' %>

<div class="container-fluid">

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h1> <%= @task.title %> </h1>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="form-group">
        <div class="btn-group float-right" >
          
          <% if can? :destroy, @task %>
            <%= button_to 'Delete', task_path(@task), class: 'btn btn-dark',
                method: :delete, data: { confirm: 'Are you sure you want to delete?' } %>
          <% end %>

          <% if can? :update, @task %>
          <%= link_to 'Update', edit_task_path(@task.sequence_num), class: 'btn btn-dark' %>
          <% end %>

          <%= button_to 'Watch', task_path(@task), class: 'btn btn-dark' %>
          <%= button_to 'Add Watcher', task_path(@task), class: 'btn btn-dark' %>
          <%= button_to 'Remove Watcher', task_path(@task), class: 'btn btn-dark',
              method: :delete, data: { confirm: 'Are you sure you want to delete watcher?' } %>
        </div>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Title</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= @task.title %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Description</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= @task.description %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Status</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= @task.status %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Priority</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= @task.priority %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Progress</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= @task.progress unless @task.progress.nil? %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Due Date</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= Date.parse((@task.due_date).to_s) unless @task.due_date.nil? %>
      </div>
    </div>
  </div>  
  
  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Start Date</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= Date.parse((@task.start_date).to_s) unless @task.start_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>End Date</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= Date.parse((@task.end_date).to_s) unless @task.end_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Expected Start Date</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= Date.parse((@task.expected_start_date).to_s) unless @task.expected_start_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-2">
      <div class="form-group">
        <h4>Expected End Date</h4>
      </div>
    </div>

    <div class="col-lg-10">
      <div class="form-group">
        <%= Date.parse((@task.expected_end_date).to_s) unless @task.expected_end_date.nil? %>
      </div>
    </div>
  </div>
  
</div>

