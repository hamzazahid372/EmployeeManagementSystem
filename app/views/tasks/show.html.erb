<div class="container-fluid">

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h1> <%= @task.title %> </h1>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="form-group">
        <div class="btn-group float-right" >
          
          <% if can? :destroy, @task %>
            <%= button_to 'Delete', task_path(@task), class: 'btn btn-dark',
                method: :delete, data: { confirm: 'Are you sure you want to delete?' } %>
          <% end %>

          <% if can? :update, @task %>
          <%= link_to 'Update', edit_task_path(@task.sequence_num), class: 'btn btn-dark' %>
          <% end %>

          <%= button_to 'Watch', task_path(@task), class: 'btn btn-dark' %>
          <%= button_to 'Add Watcher', task_path(@task), class: 'btn btn-dark' %>
          <%= button_to 'Remove Watcher', task_path(@task), class: 'btn btn-dark',
              method: :delete, data: { confirm: 'Are you sure you want to delete watcher?' } %>
        </div>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_title) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= @task.title %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_description) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= @task.description %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_status) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= @task.status %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_priority) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Task::PRIORITY.key @task.priority if @task.priority.present? %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_progress) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= @task.progress if @task.progress.present? %>
      </div>
    </div>
  </div>  

  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_due_date) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Date.parse((@task.due_date).to_s) unless @task.due_date.nil? %>
      </div>
    </div>
  </div>  
  
  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_start_date) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Date.parse((@task.start_date).to_s) unless @task.start_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_end_date) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Date.parse((@task.end_date).to_s) unless @task.end_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_expected_start_date) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Date.parse((@task.expected_start_date).to_s) unless @task.expected_start_date.nil? %>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-3">
      <div class="form-group">
        <h4><%= t(:task_expected_end_date) %></h4>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="form-group">
        <%= Date.parse((@task.expected_end_date).to_s) unless @task.expected_end_date.nil? %>
      </div>
    </div>
  </div>
  
</div>

